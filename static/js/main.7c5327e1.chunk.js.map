{"version":3,"sources":["img/tiff.png","panels/Home.js","panels/Profile.js","App.js","index.js","img/gallery.png","img/url.png","img/ava.png","img/heic.png","img/jpeg.png","img/png.png","img/gif.png","img/pdf.png","img/wbmp.png"],"names":["module","exports","images","heic","require","jpeg","png","gif","pdf","wbmp","Home","props","download","a","closePopout","includes","state","vk_platform","bridge","send","link","fileName","value","openSuccess","document","createElement","href","target","click","key","Number","keys","file","size","setPopout","activePanel","activeModal","activeValue","userLink","snackbar","height","width","this","setState","layout","onClose","before","style","backgroundColor","fill","backgroundImage","window","location","search","match","toString","url","replace","formData","FormData","append","sign","slice","user","notifications","config","responseType","headers","axios","post","then","response","data","type","console","log","reader","FileReader","onloadend","result","readAsDataURL","actionsLayout","actions","title","autoclose","mode","id","header","subheader","background","gallery","backgroundPosition","backgroundSize","backgroundRepeat","opacity","accept","controlSize","onChange","e","files","img","Image","onload","src","URL","createObjectURL","name","color","onClick","action","fetch","makeid","length","charactersLength","i","charAt","Math","floor","random","blob","lastModified","Date","now","webkitRelativePath","marginTop","marginBottom","left","display","justifyContent","alt","objectFit","borderRadius","marginRight","disabled","defaultValue","marginLeft","top","placeholder","status","exportPhoto","openError","React","Component","Profile","files_count","files_size","subscriber","JSON","parse","res","isNaN","toFixed","ava","level","weight","textAlign","packagejson","version","indicator","asideContent","checked","catch","mes","description","openThanks","App","activeStory","popout","modal","onStoryChange","bind","subscribe","detail","schemeAttribute","createAttribute","scheme","body","attributes","setNamedItem","currentTarget","dataset","story","tabbar","selected","data-story","text","setModal","ReactDOM","render","getElementById","default","tiff"],"mappings":"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","file":"static/js/main.7c5327e1.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/tiff.5743d89e.png\";","import React from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport axios from 'axios-jsonp-pro'\nimport { Button, Div, View, PanelHeaderBack, File, FormLayout, Header, Select, Group, PanelHeader, Panel, Input, Banner, Alert, ScreenSpinner, Snackbar, Avatar, ModalRoot, ModalPage, ModalPageHeader, Slider } from '@vkontakte/vkui';\nimport Icon24Camera from '@vkontakte/icons/dist/24/camera';\nimport Icon24Linked from '@vkontakte/icons/dist/24/linked';\nimport Icon16Done from '@vkontakte/icons/dist/16/done';\nimport Icon16Cancel from '@vkontakte/icons/dist/16/cancel';\nimport gallery from '../img/gallery.png';\nimport url from '../img/url.png';\n\nconst images = { heic: require('../img/heic.png'), jpeg: require('../img/jpeg.png'), png: require('../img/png.png'), gif: require('../img/gif.png'), pdf: require('../img/pdf.png'), wbmp: require('../img/wbmp.png') }\n\nexport default class Home extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\n\t\tthis.state = {\n\t\t  activePanel: 'home',\n\t\t  activeModal: null,\n\t\t  file: {},\n\t\t  value: '',\n\t\t  activeValue: '',\n\t\t  link: '',\n\t\t  fileName: '',\n\t\t  userLink: '',\n\t\t  snackbar: null,\n\t\t  vk_platform: 'browser',\n\t\t  height: 1,\n\t\t  width: 1\n\t\t}\n\t  }\n\n\t  openSuccess () {\n\t\tthis.setState({ snackbar:\n\t\t  <Snackbar\n\t\t\tlayout=\"vertical\"\n\t\t\tonClose={() => this.setState({ snackbar: null })}\n\t\t\tbefore={<Avatar size={24} style={{ backgroundColor: 'var(--accent)' }}><Icon16Done fill=\"#fff\" width={14} height={14} /></Avatar>}\n\t\t  >\n\t\t\tОтправили!\n\t\t  </Snackbar>\n\t\t});\n\t  }\n\t  openError () {\n\t\tthis.setState({ snackbar:\n\t\t  <Snackbar\n\t\t\tlayout=\"vertical\"\n\t\t\tonClose={() => this.setState({ snackbar: null })}\n\t\t\tbefore={<Avatar size={24} style={{ backgroundImage: 'linear-gradient(135deg, #fc7373, #cb5e5a)' }}><Icon16Cancel fill=\"#fff\" width={14} height={14} /></Avatar>}\n\t\t  >\n\t\t\tОшибка\n\t\t  </Snackbar>\n\t\t});\n\t  }\n\n\t  componentDidMount() {\n\t\tif (window.location.search) {\n\t\t\tvar vk_platform = window.location.search.match(/vk_platform=([a-z_]+)/)\n\t\t\tthis.setState({vk_platform: vk_platform[1].toString()})\n\t\t}\n\t  }\n\n\t  download = async () => {\n\t\tthis.closePopout()\n\t\t\tif (['mobile_iphone', 'mobile_iphone_messenger'].includes(this.state.vk_platform)) {\n\t\t\t\tbridge.send(\"VKWebAppDownloadFile\", {\"url\": this.state.link, \"filename\": this.state.fileName + this.state.value});\n\t\t\t\tbridge.send(\"VKWebAppTapticNotificationOccurred\", {\"type\": \"error\"});\n\t\t\t}\n\t\t\telse if (['mobile_android', 'mobile_android_messenger'].includes(this.state.vk_platform)) {\n\t\t\t\tthis.openSuccess()\n\t\t\t}\n\t\t\telse {\n\t\t\t\tconst a = document.createElement('a');\n\t\t\t\ta.href = await this.state.link;\n\t\t\t\ta.download = this.state.fileName + this.state.value;\n\t\t\t\ta.target = '_blank';\n\t\t\t\tawait a.click()\n\t\t\t\tthis.openSuccess()\n\t\t\t}\n\t\t\tif (this.state.vk_platform !== 'browser') {\n\t\t   \t var key = await bridge.send(\"VKWebAppStorageGet\", {\"keys\": [\"transfers\", \"size\"]});\n\t\t\t bridge.send(\"VKWebAppStorageSet\", {\"key\": \"transfers\", \"value\": `${Number(key.keys[0].value) + 1}`});\n\t\t\t bridge.send(\"VKWebAppStorageSet\", {\"key\": \"size\", \"value\": `${Number(key.keys[1].value) + this.state.file.size}`});\n\t\t   }\n\t}\n\t  \n\t  async exportPhoto () {\n\t\t  this.props.setPopout(<ScreenSpinner />)\n\n\t\tconst url = `https://converter.dan0102dan.ru/${this.state.value.replace('.', '')}`;\n\t\tconst formData = new FormData();\n\t\tformData.append('file', this.state.file)\n\t\tvar user, notifications, sign;\n\t\tif (window.location.search) {\n\t\t\tsign = window.location.search.slice(1)\n\t\t\tuser = window.location.search.match(/vk_user_id=([1,2,3,4,5,6,7,8,9,0]+)/)\n\t\t\tuser = user[1].toString()\n\t\t\tnotifications = await bridge.send(\"VKWebAppStorageGet\", {\"keys\": [\"notifications\"]});\n\t\t} else {\n\t\t\tsign = 'null'\n\t\t\tuser = 'unsign'\n\t\t\tnotifications = {keys: [{ value: false }]}\n\t\t}\n\t\tformData.append('sign', sign)\n\t\tformData.append('user', user)\n\t\tformData.append('fileName', this.state.fileName)\n\t\tformData.append('notifications', notifications.keys[0].value)\n\t\tconst config = {\n\t\t  responseType: 'blob',\n\t\t  headers: {\n\t\t\t'content-type': 'multipart/form-data'\n\t\t  }\n\t\t}\n\t\tconst mode = 'cors'\n\t\ttry {\n\t\tawait axios.post(url, formData, config, mode)\n            .then(async (response) => {\n\t\t\tif (response.data.type === 'application/json') {\n\t\t\t\tconsole.log('authorization error')\n\t\t\t\tthis.closePopout()\n\t\t\t\tthis.setState({activePanel: 'home'})\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar reader = new FileReader();\n\t\t\treader.onloadend = async () => {\n\t\t\t  this.setState({link: reader.result}, this.download);\n\t\t\t}\n\t\t\t await reader.readAsDataURL(response.data);\n\t\t\t})\n\t\t} catch {\n\t\t\tthis.props.setPopout(\n\t\t\t\t<Alert\n\t\t\t\t  actionsLayout=\"vertical\"\n\t\t\t\t  actions={[{\n\t\t\t\t\ttitle: 'Ok',\n\t\t\t\t\tautoclose: true,\n\t\t\t\t\tmode: 'cancel'\n\t\t\t\t  }]}\n\t\t\t\t  onClose={this.closePopout}\n\t\t\t\t>\n\t\t\t\t  <h2>Плохое интернет подключение</h2>\n\t\t\t\t  <p>Проверьте скорость Вашего соединения; противном случае, перезапустите сервис.</p>\n\t\t\t\t</Alert>\n\t\t\t  )\n\t\t  }\n\t\t}\n\n\t  closePopout = () => {\n\t\tthis.props.setPopout(null);\n\t}\n\nrender () {\n\treturn (\n\t<Panel id={this.id}>\n\t <View activePanel={this.state.activePanel}>\n\t \t<Panel id=\"home\">\n          <PanelHeader>Главная</PanelHeader>\n\t\t  <Header>Где находится Ваш файл?</Header>\n\t\t  <Banner\n        mode=\"image\"\n        size=\"m\"\n        header=\"В Фото\"\n        subheader={<span>Откройте галерею<br />и выберите фото</span>}\n        background={\n          <div\n            style={{\n              backgroundColor: '#1e065f',\n              backgroundImage: `url(${gallery})`,\n              backgroundPosition: 'right center',\n              backgroundSize: '44vh',\n\t\t\t  backgroundRepeat: 'no-repeat',\n            }}\n          />\n        }\n        actions={<File style={{opacity: 0.9}} mode=\"overlay_primary\" accept=\"image/*\" before={<Icon24Camera />} controlSize=\"l\"\n\t\tonChange={ (e) => {\n\t\t  console.log(e.target.files[0])\n\t\t  const img = new Image();\n\t\t\timg.onload = () => {\n\t\t\t\tthis.setState({ height: img.height, width: img.width })\n\t\t\t}\n\t\t\timg.src = URL.createObjectURL(e.target.files[0]);\n\t\t  if (e.target.files[0].type === 'image/png') {\n\t\t\t  this.setState({ activePanel: 'export', activeValue: 'png', file: e.target.files[0], fileName: e.target.files[0].name.slice(0, -4) })\n\t\t  } \n\t\t  else if (e.target.files[0].type === 'image/heic') {\n\t\t\t  this.setState({ activeValue: 'heic', file: e.target.files[0], fileName: e.target.files[0].name.slice(0, -5) })\n\t\t  } \n\t\t  else if (e.target.files[0].type === 'image/jpeg') {\n\t\t\t  var name = e.target.files[0].name\n\t\t\t  if (name.match(/\\.jpeg$/)) name = name.slice(0, -5)\n\t\t\t  else name = name.slice(0, -4)\n\n\t\t\t  this.setState({ activePanel: 'export', activeValue: 'jpeg', file: e.target.files[0], fileName: name })\n\t\t  }\n\t\t  else if (e.target.files[0].type === 'image/gif') {\n\t\t\tthis.setState({ activePanel: 'export', activeValue: 'gif', file: e.target.files[0], fileName: e.target.files[0].name.slice(0, -4) })\n\t\t  }\n\t\t  else if (e.target.files[0].type === 'image/pdf') {\n\t\t\tthis.setState({ activePanel: 'export', activeValue: 'pdf', file: e.target.files[0], fileName: e.target.files[0].name.slice(0, -4) })\n\t\t  }\n\t\t  else if (e.target.files[0].type === 'image/wbmp') {\n\t\t\tthis.setState({ activePanel: 'export', activeValue: 'wbmp', file: e.target.files[0], fileName: e.target.files[0].name.slice(0, -5) })\n\t\t  }\n\t\t  else {\n\t\t\tthis.props.setPopout(\n\t\t\t\t<Alert\n\t\t\t\t  actionsLayout=\"vertical\"\n\t\t\t\t  actions={[{\n\t\t\t\t\ttitle: 'Отмена',\n\t\t\t\t\tautoclose: true,\n\t\t\t\t\tmode: 'cancel'\n\t\t\t\t  }]}\n\t\t\t\t  onClose={this.closePopout}\n\t\t\t\t>\n\t\t\t\t  <h2>Формат недоступен</h2>\n\t\t\t\t  <p>Данный тип изображений в настоящее время не поддерживается; можете сообщить об этом администратору.</p>\n\t\t\t\t</Alert>\n\t\t\t  )\n\t\t  }\n\t\t}}\n\t\t>\n\t\t   Открыть галерею\n\t\t</File>}\n      />\n\t\t  <Banner\n        \tmode=\"image\"\n        \tsize=\"m\"\n        \theader=\"В интернете\"\n        \tsubheader={<span>Скопируйте ссылку<br />и вставьте в окно</span>}\n        \tbackground={\n          \t  <div\n               style={{\n              \tbackgroundColor: '#56005f',\n              \tbackgroundImage: `url(${url})`,\n              \tbackgroundPosition: 'right center',\n              \tbackgroundSize: '44vh',\n\t\t\t  \tbackgroundRepeat: 'no-repeat',\n               }}\n\t\t  />\n\t\t}\n        actions={<Button style={{backgroundColor: '#fff', color: '#000', opacity: 0.9}} before={<Icon24Linked />} size=\"l\" onClick={() => {\n\t\t\tthis.props.setPopout(\n\t\t\t\t<Alert\n\t\t\t\t  actions={[{\n\t\t\t\t\ttitle: 'Отмена',\n\t\t\t\t\tautoclose: true,\n\t\t\t\t\tmode: 'cancel'\n\t\t\t\t  }, {\n\t\t\t\t\ttitle: 'Далее',\n\t\t\t\t\tautoclose: true,\n\t\t\t\t\taction: async () => {\n\t\t\t\t\tthis.props.setPopout(<ScreenSpinner />)\n\t\t\t\t\tvar blob;\n\t\t\t\ttry {\n\t\t\t\t\t await fetch(`https://cors-anywhere.herokuapp.com/${this.state.userLink}`).then(async (response) => {\n\t\t\t\t\t\tblob = await response.blob()\n\t\t\t\t\t\tfunction makeid(length) {\n\t\t\t\t\t\t\tvar result           = '';\n\t\t\t\t\t\t\tvar characters       = 'abcdefghijklmnopqrstuvwxyz';\n\t\t\t\t\t\t\tvar charactersLength = characters.length;\n\t\t\t\t\t\t\tfor ( var i = 0; i < length; i++ ) {\n\t\t\t\t\t\t\t   result += characters.charAt(Math.floor(Math.random() * charactersLength));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t }\n\t\t\t\t\t\tblob.name = makeid(10);\n\t\t\t\t\t\tblob.lastModified = Date.now();\n\t\t\t\t\t\tblob.webkitRelativePath = '';\n\t\t\t\t\t\t})\n\t\t\t\t\t} catch {\n\t\t\t\t\t\tthis.props.setPopout(\n\t\t\t\t\t\t\t<Alert\n\t\t\t\t\t\t\t  actionsLayout=\"vertical\"\n\t\t\t\t\t\t\t  actions={[{\n\t\t\t\t\t\t\t\ttitle: 'Ok',\n\t\t\t\t\t\t\t\tautoclose: true,\n\t\t\t\t\t\t\t\tmode: 'cancel'\n\t\t\t\t\t\t\t  }]}\n\t\t\t\t\t\t\t  onClose={this.closePopout}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t  <h2>Плохое интернет подключение</h2>\n\t\t\t\t\t\t\t  <p>Проверьте скорость Вашего соединения; противном случае, перезапустите сервис.</p>\n\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t  )\n\t\t\t\t\t}\n\t\t\t\t\tthis.closePopout()\n\t\t\t\t\tconst img = new Image();\n\t\t\t\t\t\timg.onload = () => {\n\t\t\t\t\t\t\tthis.setState({ height: img.height, width: img.width })\n\t\t\t\t\t\t}\n\t\t\t\t\t\timg.src = URL.createObjectURL(blob);\n\t\t\t\t\t\tif (blob.type === 'image/png') {\n\t\t\t\t\t\t\tthis.setState({ activePanel: 'export', activeValue: 'png', file: blob, fileName: blob.name })\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (blob.type === 'image/heic') {\n\t\t\t\t\t\t\tthis.setState({ activePanel: 'export', activeValue: 'heic', file: blob, fileName: blob.name })\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (blob.type === 'image/jpeg') {\n\t\t\t\t\t\t\tthis.setState({ activePanel: 'export', activeValue: 'jpeg', file: blob, fileName: blob.name })\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (blob.type === 'image/gif') {\n\t\t\t\t\t\t  this.setState({ activePanel: 'export', activeValue: 'gif', file: blob, fileName: blob.name })\n\t\t\t\t\t\t  }\n\t\t\t\t\t\telse if (blob.type === 'image/pdf') {\n\t\t\t\t\t\t  this.setState({ activePanel: 'export', activeValue: 'pdf', file: blob, fileName: blob.name })\n\t\t\t\t\t  \t}\n\t\t\t\t\t\telse if (blob.type === 'image/wbmp') {\n\t\t\t\t\t\t\tthis.setState({ activePanel: 'export', activeValue: 'wbmp', file: blob, fileName: blob.name })\n\t\t\t\t\t\t}\n\t\t\t\t\t  \telse {\n\t\t\t\t\t\t  this.props.setPopout(\n\t\t\t\t\t\t\t  <Alert\n\t\t\t\t\t\t\t\tactionsLayout=\"vertical\"\n\t\t\t\t\t\t\t\tactions={[{\n\t\t\t\t\t\t\t\t  title: 'Отмена',\n\t\t\t\t\t\t\t\t  autoclose: true,\n\t\t\t\t\t\t\t\t  mode: 'cancel'\n\t\t\t\t\t\t\t\t}]}\n\t\t\t\t\t\t\t\tonClose={this.closePopout}\n\t\t\t\t\t\t\t  >\n\t\t\t\t\t\t\t\t<h2>Что-то пошло не так</h2>\n\t\t\t\t\t\t\t\t<p>Данный тип изображений в настоящее время не поддерживается; можете сообщить об этом администратору.</p>\n\t\t\t\t\t\t\t  </Alert>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t  }]}\n\t\t\t\t  onClose={this.closePopout}\n\t\t\t\t>\n\t\t\t\t  <h2>Введите ссылку</h2>\n\t\t\t\t  <p>Должна быть ссылка на файл, где не требуется ввести логин/пароль</p>\n\t\t\t\t  <Input style={{marginTop: 16, marginBottom: -7}} onChange={(e)=> { this.setState({ userLink: e.target.value }) }} type=\"text\" />\n\t\t\t\t</Alert>\n\t\t\t  )\n\t\t}}>Вставить ссылку</Button>}\n      />\n      </Panel>\n\n        <Panel id=\"export\">\n          <PanelHeader\n\t\t  left={<PanelHeaderBack onClick={ () => this.setState({ activePanel: 'home', file: {}, value: '', fileName: '' }) } />}\n\t\t  >\n\t\t\t.{this.state.activeValue}\n\t\t  </PanelHeader>\n\t\t\n\t\t{this.state.file.name && <Group>\n\t\t <div style={{display:'flex', justifyContent: 'center'}}>\n\t\t  <img src={URL.createObjectURL(this.state.file)} alt=\"yourPhotofile\" style={{ height: '21vh', objectFit: 'contain', borderRadius: 15 }}></img>\n\t\t </div>\n\t\t</Group>}\n\n\t\t{this.state.file.name && <Group>\n\t\t <div style={{display:'flex', justifyContent: 'center', marginTop: 16}}>\n\t\t  <Header style={{ marginRight: -3 }}>Из</Header>\n\t\t   <Input disabled type=\"text\" defaultValue={this.state.file.name.slice(0, -4)} />\n\t\t  <img src={images[this.state.activeValue]} alt=\"type file\" style={{ marginLeft: 7, height: '44px' }}></img>\n\t\t </div>\n\t\t</Group>}\n\n\t\t  <FormLayout>\n\t\t\t <Select onChange={(e) => {\n\t\t\tthis.setState({ value: e.target.value });\n\t\t\tif (['mobile_iphone', 'mobile_iphone_messenger'].includes(this.state.vk_platform)) {\n\t\t\t\tbridge.send(\"VKWebAppTapticSelectionChanged\", {});\n\t\t\t}\n\t\t\t}} top=\"Выберите формат, в который хотите преобразовать\" placeholder=\"Выберите формат\">\n\t\t\t\t{this.state.activeValue === 'jpeg' ? null : <option value=\".jpeg\">jpeg</option>}\n\t\t\t\t{this.state.activeValue === 'png' ?  null : <option value=\".png\">png</option>}\n\t\t\t\t{this.state.activeValue === 'pdf' ? null : <option value=\".pdf\">pdf</option>}\n\t\t\t\t{this.state.activeValue === 'wbmp' ? null : <option value=\".wbmp\">wbmp</option>}\n\t\t\t\t{this.state.activeValue === 'gif' ? null : <option value=\".gif\">gif</option>}\n      \t\t</Select>\n    \t  </FormLayout>\n\n\t\t{this.state.value && <Group>\n\t\t <div style={{display:'flex', justifyContent: 'center', marginTop: 16}}>\n\t\t  <Header style={{ marginRight: -3 }}>В</Header>\n\t\t   <Input type=\"text\" onChange={(e)=> { this.setState({ fileName: e.target.value }) }} value={this.state.fileName} status={this.state.fileName ? 'valid' : 'error'} />\n\t\t  <img src={ images[this.state.value.replace('.', '')] } alt='type of file' style={{ marginLeft: 7, height: '44px' }}></img>\n\t\t </div>\n\t\t</Group>}\n\n\t\t\t{this.state.value && this.state.fileName && <Group>\n\t\t\t\t<Div>\n\t\t\t\t{['mobile_iphone', 'mobile_iphone_messenger'].includes(this.state.vk_platform)\n\t\t\t\t? <Button mode=\"secondary\" size=\"xl\" onClick={async() => {\n\t\t\t\t\tawait this.exportPhoto()\n\t\t\t\t} }>\n\t\t\t\t\tСкачать в {this.state.value}\n\t\t\t\t  </Button>\n\t\t\t\t: <Button mode=\"secondary\" size=\"xl\" onClick={async() => {\n\t\t\t\t  if (this.state.vk_platform !== 'browser') {\n\t\t\t\t   if (['mobile_android', 'mobile_android_messenger'].includes(this.state.vk_platform)) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar mes = await bridge.send(\"VKWebAppAllowMessagesFromGroup\", {\"group_id\": 151064772});\n\t\t\t\t\t\tif (mes.result === true) {\n\t\t\t\t\t\t  await bridge.send(\"VKWebAppStorageSet\", {\"key\": \"notifications\", \"value\": 'true'});\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch {\n\t\t\t\t\t\tthis.openError();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t   }\n\t\t\t\t  }\n\t\t\t\t\tawait this.exportPhoto()\n\t\t\t\t}\n\t\t\t\t}>\n\t\t\t\t\tСкачать в {this.state.value}\n\t\t\t\t   </Button>}\n\t\t\t\t</Div>\n\t\t\t</Group>}\n\t\t\t{this.state.snackbar}\n        </Panel>\n      </View>\n\t</Panel>\n\t)\n }\n}","import React from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport axios from 'axios-jsonp-pro'\nimport { CellButton, Header, List, Cell, Spinner, Button, Switch, Panel, PanelHeader, Group, View, Caption, Avatar, Snackbar } from '@vkontakte/vkui';\nimport Icon24Share from '@vkontakte/icons/dist/24/share';\nimport Icon16Done from '@vkontakte/icons/dist/16/done';\nimport Icon16Cancel from '@vkontakte/icons/dist/16/cancel';\nimport Icon16Like from '@vkontakte/icons/dist/16/like';\n\nimport ava from '../img/ava.png';\n\nimport packagejson from '../../package.json'\n\nexport default class Profile extends React.Component {\n\nconstructor(props) {\n    super(props);\n\n    this.state = {\n\t  activePanel: 'profile',\n\t  vk_platform: '',\n\t  files_count:  <Spinner size=\"small\" />,\n\t  files_size:  <Spinner size=\"small\" />,\n\t  subscriber: false,\n\t  notifications: false,\n\t  snackbar: null\n    }\n  }\n\n  async componentDidMount() {\n\tif (window.location.search) {\n\t\tvar a = window.location.search.match(/vk_platform=([a-z_]+)/)\n\t\tvar notifications = await bridge.send(\"VKWebAppStorageGet\", {\"keys\": [\"notifications\"]});\n\t\tif (!(['true', 'false'].includes(notifications.keys[0].value))) notifications.keys[0].value = 'false'\n\t\tthis.setState({ notifications: JSON.parse(notifications.keys[0].value), vk_platform: a[1].toString() })\n\t\tvar user = window.location.search.match(/vk_user_id=([1,2,3,4,5,6,7,8,9,0]+)/)\n\t\tuser = user[1].toString()\n\t \tconst url = `https://converter.dan0102dan.ru/vk`;\n\t\tconst formData = new FormData();\n\t\tvar sign, response;\n\t\tif (this.state.vk_platform !== 'browser') {\n\t\t\tsign = window.location.search.slice(1)\n\t\t} else sign = 'null'\n\t\tformData.append('sign', sign)\n\t\tformData.append('id', user)\n\t\tconst mode = 'cors'\n\t\tawait axios.post(url, formData, mode)\n            .then(async (res) => {\n\t\t\t\tresponse = res\n\t\t\t})\n\t\tif (!response.data.sign) {\n\t\t\tthis.setState({subscriber: response.data})\n\t\t} else {\n\t\t\tconsole.log(response.data.sign)\n\t\t\treturn;\n\t\t}\n\n\tvar key = await bridge.send(\"VKWebAppStorageGet\", {\"keys\": [\"transfers\", \"size\"]});\n\tif (!isNaN(key.keys[1].value)) {\n\t\tthis.setState({ files_count: key.keys[0].value })\n\t }\n     if (!isNaN(key.keys[1].value)) {\n\t\tthis.setState({ files_size: (Number(key.keys[1].value)/1000000).toFixed(3)+' МБ' })\n\t }\n\t}\n  }\n\n  openSuccess () {\n    this.setState({ snackbar:\n      <Snackbar\n        layout=\"vertical\"\n        onClose={() => this.setState({ snackbar: null })}\n        before={<Avatar size={24} style={{ backgroundColor: 'var(--accent)' }}><Icon16Done fill=\"#fff\" width={14} height={14} /></Avatar>}\n      >\n        Уведомления включены!\n      </Snackbar>\n    });\n  }\n  openError () {\n    this.setState({ snackbar:\n      <Snackbar\n        layout=\"vertical\"\n        onClose={() => this.setState({ snackbar: null })}\n        before={<Avatar size={24} style={{ backgroundImage: 'linear-gradient(135deg, #fc7373, #cb5e5a)' }}><Icon16Cancel fill=\"#fff\" width={14} height={14} /></Avatar>}\n      >\n        Уведомления отключены!\n      </Snackbar>\n    });\n  }\n  openThanks () {\n    this.setState({ snackbar:\n      <Snackbar\n        layout=\"vertical\"\n        onClose={() => this.setState({ snackbar: null })}\n        before={<Avatar size={24} style={{ backgroundImage: 'linear-gradient(135deg, #ffb73d, #ffa000)' }}><Icon16Like fill=\"#fff\" width={14} height={14} /></Avatar>}\n      >\n        Спасибо за подписку!!\n      </Snackbar>\n    });\n  }\n\nrender () {\n\treturn (\n  \t<Panel id={this.id} snackbar={this.state.snackbar}>\n\t <View activePanel={this.state.activePanel}>\n\t \t<Panel id=\"profile\">\n          <PanelHeader>Конвертер</PanelHeader>\n          <Group>\n\t\t\t <img src={ava} alt=\"Logo\" style={{ width: '100px', height: '100px', display: 'block', marginLeft: 'auto', marginRight: 'auto' }} />\n\t\t\t <Caption level=\"1\" weight=\"regular\" style={{ marginTop: 7, marginBottom: 16, textAlign: 'center' }}>Версия: {packagejson.version}</Caption>\n\t\t</Group>\n\n\t\t{this.state.vk_platform && <Group header={<Header mode=\"secondary\">Статистика</Header>}>\n\t\t <List>\n          <Cell indicator={this.state.files_count}>Всего конвертировано</Cell>\n          <Cell indicator={this.state.files_size}>Размер всех файлов</Cell>\n         </List>\n\t \t</Group>}\n\n\t\t {this.state.vk_platform && <Group>\n\t\t  <Cell asideContent={<Switch checked={ this.state.notifications === true ? true : false } onChange={async(e) => {\n\t\t\t  if (e.target.checked) {\n\t\t\t\tvar mes = await bridge.send(\"VKWebAppAllowMessagesFromGroup\", {\"group_id\": 151064772}).catch(() => {\n\t\t\t\t\tthis.openError();\n\t\t\t\t\tthis.setState({ notifications: false }); return;\n\t\t\t\t});\n\t\t\t\tif (mes?.result) {\n\t\t\t\t\tthis.setState({ notifications: true })\n\t\t\t\t\tthis.openSuccess()\n\t\t\t\t\tawait bridge.send(\"VKWebAppStorageSet\", {\"key\": \"notifications\", \"value\": 'true'});\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.openError();\n\t\t\t\t\tthis.setState({ notifications: false })\n\t\t\t\t\tawait bridge.send(\"VKWebAppStorageSet\", {\"key\": \"notifications\", \"value\": 'false'});\n\t\t\t\t  }\n\t\t\t  }\n\t\t\t  else {\n\t\t\t\tthis.openError();\n\t\t\t\tthis.setState({ notifications: false })\n\t\t\t\tawait bridge.send(\"VKWebAppStorageSet\", {\"key\": \"notifications\", \"value\": 'false'});\n\t\t\t  }\n\t\t  }} />\n\t\t  }>\n          \tУведомления от бота\n          </Cell>\n\t\t</Group>}\n\n\t\t{this.state.vk_platform && <Group>\n\t\t  <Cell description=\"Конвертер\" indicator={this.state.subscriber ? <Button mode=\"secondary\" disabled>Подписчик</Button> : <Button onClick={ async() => { await bridge.send(\"VKWebAppJoinGroup\", {\"group_id\": 151064772}); this.setState({subscriber: true}); this.openThanks(); }}>Вступить</Button>}>Сообщество</Cell>\n\t \t</Group>}\n\n\t\t {this.state.vk_platform && <Group>\n\t\t <CellButton before={<Icon24Share />} onClick={ () => bridge.send(\"VKWebAppShare\", {\"link\": \"https://vk.com/app7561776\"}) }>\n            Поделиться сервисом\n         </CellButton>\n\t \t</Group>}\n\t\t {this.state.snackbar}\n        </Panel>\n      </View>\n\t</Panel>\n\t)\n }\n}","import React from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport { View, Epic, Tabbar, TabbarItem } from '@vkontakte/vkui';\nimport Icon28HomeOutline from '@vkontakte/icons/dist/28/home_outline';\nimport Icon28More from '@vkontakte/icons/dist/28/more';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport Home from './panels/Home';\nimport Profile from './panels/Profile';\nimport './styles.css';\n\nclass App extends React.Component {\n  constructor (props) {\n    super(props);\n\n    this.state = {\n      activeStory: 'home',\n      popout: null,\n      modal: null\n    };\n\t  this.onStoryChange = this.onStoryChange.bind(this);\n  }\n\n  componentDidMount () {\n\t\tbridge.subscribe(({ detail: { type, data }}) => {\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\t\tschemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n        document.body.attributes.setNamedItem(schemeAttribute);\n\t\t\t}\n    });\n\t};\n\n  onStoryChange (e) {\n    this.setState({ activeStory: e.currentTarget.dataset.story })\n  }\n\n  render () {\n    return (\n      <Epic activeStory={this.state.activeStory} tabbar={\n        <Tabbar>\n          <TabbarItem\n            onClick={this.onStoryChange}\n            selected={this.state.activeStory === 'home'}\n            data-story=\"home\"\n            text=\"Главная\"\n          ><Icon28HomeOutline /></TabbarItem>\n          <TabbarItem\n            onClick={this.onStoryChange}\n            selected={this.state.activeStory === 'profile'}\n            data-story=\"profile\"\n            text=\"Разное\"\n          ><Icon28More /></TabbarItem>\n        </Tabbar>\n      }>\n        <View id=\"home\" activePanel=\"home\" modal={this.state.modal} popout={this.state.popout}>\n\t\t\t<Home setModal={modal => this.setState({ modal })} setPopout={popout => this.setState({ popout })} id='home' />\n        </View>\n        <View id=\"profile\" activePanel=\"profile\">\n\t\t\t<Profile id='profile' />\n        </View>\n      </Epic>\n    )\n  }\n}\n\nexport default App;","import \"core-js/features/map\";\nimport \"core-js/features/set\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\nimport gallery from './img/gallery.png';\nimport url from './img/url.png';\nimport ava from './img/ava.png';\n\nimport jpeg from './img/jpeg.png';\nimport png from './img/png.png';\nimport heic from './img/heic.png';\nimport pdf from './img/pdf.png';\nimport gif from './img/gif.png';\nimport tiff from './img/tiff.png';\nimport wbmp from './img/wbmp.png';\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n//if (process.env.NODE_ENV === \"development\") {\n  import(\"./eruda\").then(({ default: eruda }) => {});\n//}\n//принудительная загрузка фото\nif (window.Image) {\n  new window.Image().src = gallery\n  new window.Image().src = url\n  new window.Image().src = ava\n  new window.Image().src = wbmp\n  new window.Image().src = jpeg\n  new window.Image().src = png\n  new window.Image().src = heic\n  new window.Image().src = pdf\n  new window.Image().src = gif\n  new window.Image().src = tiff\n}\nbridge.send(\"VKWebAppInit\");","module.exports = __webpack_public_path__ + \"static/media/gallery.f7323948.png\";","module.exports = __webpack_public_path__ + \"static/media/url.76ef0a53.png\";","module.exports = __webpack_public_path__ + \"static/media/ava.85066ad8.png\";","module.exports = __webpack_public_path__ + \"static/media/heic.3079e518.png\";","module.exports = __webpack_public_path__ + \"static/media/jpeg.47977778.png\";","module.exports = __webpack_public_path__ + \"static/media/png.4f228561.png\";","module.exports = __webpack_public_path__ + \"static/media/gif.79710f9c.png\";","module.exports = __webpack_public_path__ + \"static/media/pdf.39f4d5dc.png\";","module.exports = __webpack_public_path__ + \"static/media/wbmp.aca94bdb.png\";"],"sourceRoot":""}