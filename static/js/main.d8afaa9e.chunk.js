(this.webpackJsonpconverter=this.webpackJsonpconverter||[]).push([[0],{119:function(e,t,a){e.exports=a.p+"static/media/gallery.f7323948.png"},120:function(e,t,a){e.exports=a.p+"static/media/url.76ef0a53.png"},123:function(e){e.exports=JSON.parse('{"name":"converter","version":"1.5.5","description":"\u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u0443\u0439 \u0431\u044b\u0441\u0442\u0440\u043e \u0438 \u0443\u0434\u043e\u0431\u043d\u043e \u0444\u0430\u0439\u043b\u044b, \u043b\u044e\u0431\u043e\u0433\u043e \u0444\u043e\u0440\u043c\u0430\u0442\u0430!","main":"index.js","homepage":"https://dan0102dan.github.io/converter","scripts":{"start":"cross-env PORT=10888 react-scripts start","build":"react-scripts build","predeploy":"npm run build","deploy":"gh-pages -d build"},"keywords":[],"author":"","license":"MIT","devDependencies":{"babel-eslint":"^10.1.0","cross-env":"^5.2.1","eslint":"^6.6.0","eslint-config-standard":"^14.1.1","eslint-plugin-import":"^2.22.0","eslint-plugin-node":"^11.1.0","eslint-plugin-promise":"^4.2.1","eslint-plugin-react":"^7.20.6","eslint-plugin-standard":"^4.0.1","gh-pages":"^3.1.0","react-hot-loader":"^4.12.21","react-scripts":"^3.4.2"},"dependencies":{"@vkontakte/icons":"^1.32.0","@vkontakte/vk-bridge":"^2.2.6","@vkontakte/vk-miniapps-deploy":"0.0.17","@vkontakte/vkui":"^3.12.0","axios-jsonp-pro":"^1.1.8","chalk":"^2.4.2","core-js":"^3.6.5","eruda":"^2.3.3","eruda-code":"^2.0.0","eruda-dom":"^2.0.0","jimp":"^0.16.0","prop-types":"^15.7.2","react":"^16.13.1","react-dom":"^16.13.1"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')},171:function(e,t,a){e.exports=a(286)},279:function(e,t,a){e.exports=a.p+"static/media/heic.3079e518.png"},280:function(e,t,a){e.exports=a.p+"static/media/jpeg.47977778.png"},281:function(e,t,a){e.exports=a.p+"static/media/png.4f228561.png"},282:function(e,t,a){e.exports=a.p+"static/media/gif.79710f9c.png"},283:function(e,t,a){e.exports=a.p+"static/media/pdf.39f4d5dc.png"},284:function(e,t,a){e.exports=a.p+"static/media/hdr.03214380.png"},285:function(e,t,a){},286:function(e,t,a){"use strict";a.r(t);a(172),a(198),a(200),a(201),a(203),a(204),a(205),a(206),a(207),a(208),a(209),a(210),a(212),a(213),a(214),a(215),a(216),a(217),a(218),a(219),a(220),a(221),a(223),a(224),a(225),a(226),a(227),a(228),a(229),a(230),a(231),a(232),a(233),a(234),a(235),a(236),a(237),a(238),a(239),a(240);var n=a(10),r=a.n(n),o=a(23),s=a(0),i=a.n(s),l=a(102),c=a.n(l),u=a(11),m=a.n(u),p=a(39),d=a(40),f=a(50),h=a(43),g=a(42),v=a(3),b=a(115),y=a.n(b),k=a(116),E=a.n(k),x=(a(259),a(53)),w=a.n(x),S=a(117),P=a.n(S),_=a(118),j=a.n(_),C=a(38),z=a.n(C),V=a(46),A=a.n(V),N=a(119),O=a.n(N),I=a(120),T=a.n(I),W=a(41),K=a.n(W),L=a(54),R=a.n(L),D=a(55),B=a.n(D),G={heic:a(279),jpeg:a(280),png:a(281),gif:a(282),pdf:a(283),hdr:a(284)},F=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).download=Object(o.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.closePopout(),"browser"===n.state.vk_platform){e.next=7;break}return e.next=4,m.a.send("VKWebAppStorageGet",{keys:["transfers","size"]});case 4:t=e.sent,m.a.send("VKWebAppStorageSet",{key:"transfers",value:"".concat(Number(null===t||void 0===t?void 0:t.keys[0].value)+1)}),m.a.send("VKWebAppStorageSet",{key:"size",value:"".concat(Number(null===t||void 0===t?void 0:t.keys[1].value)+n.state.file.size)});case 7:if(!["mobile_iphone","mobile_iphone_messenger"].includes(n.state.vk_platform)){e.next=12;break}m.a.send("VKWebAppDownloadFile",{url:n.state.link,filename:n.state.fileName+"."+n.state.value}).catch(Object(o.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.send("VKWebAppStorageGet",{keys:["notifications"]});case 2:(null===(a=e.sent)||void 0===a||null===(t=a.keys[0])||void 0===t?void 0:t.value)?n.openSuccess():n.openError();case 4:case"end":return e.stop()}}),e)})))),m.a.send("VKWebAppTapticNotificationOccurred",{type:"error"}),e.next=25;break;case 12:if(!["mobile_android","mobile_android_messenger"].includes(n.state.vk_platform)){e.next=16;break}n.openSuccess(),e.next=25;break;case 16:return a=document.createElement("a"),e.next=19,n.state.link;case 19:return a.href=e.sent,a.download=n.state.fileName+"."+n.state.value,a.target="_blank",e.next=24,a.click();case 24:n.openSuccess();case 25:case"end":return e.stop()}}),e)}))),n.closePopout=function(){n.props.setPopout(null)},n.state={activePanel:"home",activeModal:null,file:{},value:"",activeValue:"",link:"",fileName:"",userLink:"",snackbar:null,vk_platform:"browser",slideIndex:0,ownSetting:!1,height:1,width:1},n}return Object(d.a)(a,[{key:"openSuccess",value:function(){var e=this;this.setState({snackbar:i.a.createElement(v.u,{layout:"vertical",onClose:function(){return e.setState({snackbar:null})},before:i.a.createElement(v.b,{size:24,style:{backgroundColor:"var(--accent)"}},i.a.createElement(z.a,{fill:"#fff",width:14,height:14}))},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u043b\u0438!")})}},{key:"openError",value:function(){var e=this;this.setState({snackbar:i.a.createElement(v.u,{layout:"vertical",onClose:function(){return e.setState({snackbar:null})},before:i.a.createElement(v.b,{size:24,style:{backgroundImage:"linear-gradient(135deg, #fc7373, #cb5e5a)"}},i.a.createElement(A.a,{fill:"#fff",width:14,height:14}))},"\u041e\u0448\u0438\u0431\u043a\u0430")})}},{key:"openDoesntLink",value:function(){var e=this;this.setState({snackbar:i.a.createElement(v.u,{layout:"vertical",onClose:function(){return e.setState({snackbar:null})},before:i.a.createElement(v.b,{size:24,style:{backgroundImage:"linear-gradient(135deg, #EC9F05, #FF4E00)"}},i.a.createElement(A.a,{fill:"#fff",width:14,height:14}))},"\u042d\u0442\u043e \u043d\u0435 \u0441\u0441\u044b\u043b\u043a\u0430!")})}},{key:"componentDidMount",value:function(){var e=Object(o.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.location.search&&(t=window.location.search.match(/vk_platform=([a-z_]+)/),this.setState({vk_platform:t[1].toString()})),e.next=3,m.a.send("VKWebAppStorageGet",{keys:["greeting"]}).catch((function(){}));case 3:a=e.sent,console.log(null===a||void 0===a?void 0:a.keys[0].value),""===(null===a||void 0===a?void 0:a.keys[0].value)&&(this.setState({activePanel:"greeting"}),document.documentElement.style.setProperty("--showTabbar","none"),document.documentElement.style.setProperty("--padding","0"));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"exportPhoto",value:function(){var e=Object(o.a)(r.a.mark((function e(){var t,a,n,s,l,c,u,p=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.setPopout(i.a.createElement(v.s,null)),a="https://converter.dan0102dan.ru/".concat(this.state.value),(n=new FormData).append("file",this.state.file),!window.location.search){e.next=12;break}return l=window.location.search.slice(1),e.next=8,m.a.send("VKWebAppStorageGet",{keys:["notifications"]}).catch((function(){return s={keys:[{value:!1}]}}));case 8:s=e.sent,""===(null===(c=s)||void 0===c?void 0:c.keys[0].value)&&(s={keys:[{value:!1}]}),e.next=14;break;case 12:l="null",s={keys:[{value:!1}]};case 14:return n.append("sign",l),n.append("fileName",this.state.fileName),n.append("notifications",null===(t=s)||void 0===t?void 0:t.keys[0].value),u={responseType:"blob",headers:{"content-type":"multipart/form-data"}},"cors",e.prev=19,e.next=22,w.a.post(a,n,u,"cors").then(function(){var e=Object(o.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("application/json"!==t.data.type){e.next=5;break}return console.log("authorization error"),p.closePopout(),p.setState({activePanel:"home"}),e.abrupt("return");case 5:return(a=new FileReader).onloadend=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.setState({link:a.result},p.download);case 1:case"end":return e.stop()}}),e)}))),e.next=9,a.readAsDataURL(t.data);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(19),this.props.setPopout(i.a.createElement(v.a,{actionsLayout:"vertical",actions:[{title:"Ok",autoclose:!0,mode:"cancel"}],onClose:this.closePopout},i.a.createElement("h2",null,"\u041f\u043b\u043e\u0445\u043e\u0435 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435"),i.a.createElement("p",null,"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0412\u0430\u0448\u0435\u0433\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f; \u0432 \u043f\u0440\u043e\u0442\u0438\u0432\u043d\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435, \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u0441\u0435\u0440\u0432\u0438\u0441.")));case 27:case"end":return e.stop()}}),e,this,[[19,24]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return i.a.createElement(v.p,{id:this.id},i.a.createElement(v.A,{activePanel:this.state.activePanel},i.a.createElement(v.p,{id:"home"},i.a.createElement(v.q,null,"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"),i.a.createElement(v.m,null,"\u0413\u0434\u0435 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0412\u0430\u0448 \u0444\u0430\u0439\u043b?"),i.a.createElement(v.c,{mode:"image",size:"m",header:"\u0412 \u0424\u043e\u0442\u043e",subheader:i.a.createElement("span",null,"\u041e\u0442\u043a\u0440\u043e\u0439\u0442\u0435 \u0433\u0430\u043b\u0435\u0440\u0435\u044e",i.a.createElement("br",null),"\u0438 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u043e\u0442\u043e"),background:i.a.createElement("div",{style:{backgroundColor:"#1e065f",backgroundImage:"url(".concat(O.a,")"),backgroundPosition:"right center",backgroundSize:"95%",backgroundRepeat:"no-repeat"}}),actions:i.a.createElement(v.i,{style:{cursor:"pointer"},mode:"overlay_primary",accept:"image/*",before:i.a.createElement(P.a,null),controlSize:"l",onChange:function(t){console.log(t.target.files[0]);var a=new Image;if(a.onload=function(){e.setState({height:a.height,width:a.width})},a.src=URL.createObjectURL(t.target.files[0]),"image/png"===t.target.files[0].type)e.setState({activePanel:"export",activeValue:"png",file:t.target.files[0],fileName:t.target.files[0].name.slice(0,-4)}),document.documentElement.style.setProperty("--showTabbar","none"),document.documentElement.style.setProperty("--padding","0"),document.documentElement.style.setProperty("--bottom","var(--safe-area-inset-bottom)");else if("image/heic"===t.target.files[0].type)e.setState({activeValue:"heic",file:t.target.files[0],fileName:t.target.files[0].name.slice(0,-5)}),document.documentElement.style.setProperty("--showTabbar","none"),document.documentElement.style.setProperty("--padding","0"),document.documentElement.style.setProperty("--bottom","var(--safe-area-inset-bottom)");else if("image/jpeg"===t.target.files[0].type){var n=t.target.files[0].name;n=n.match(/\.jpeg$/)?n.slice(0,-5):n.slice(0,-4),e.setState({activePanel:"export",activeValue:"jpeg",file:t.target.files[0],fileName:n}),document.documentElement.style.setProperty("--showTabbar","none"),document.documentElement.style.setProperty("--padding","0"),document.documentElement.style.setProperty("--bottom","var(--safe-area-inset-bottom)")}else"image/gif"===t.target.files[0].type?(e.setState({activePanel:"export",activeValue:"gif",file:t.target.files[0],fileName:t.target.files[0].name.slice(0,-4)}),document.documentElement.style.setProperty("--showTabbar","none"),document.documentElement.style.setProperty("--padding","0"),document.documentElement.style.setProperty("--bottom","var(--safe-area-inset-bottom)")):"image/pdf"===t.target.files[0].type?(e.setState({activePanel:"export",activeValue:"pdf",file:t.target.files[0],fileName:t.target.files[0].name.slice(0,-4)}),document.documentElement.style.setProperty("--showTabbar","none"),document.documentElement.style.setProperty("--padding","0"),document.documentElement.style.setProperty("--bottom","var(--safe-area-inset-bottom)")):"image/hdr"===t.target.files[0].type?(e.setState({activePanel:"export",activeValue:"hdr",file:t.target.files[0],fileName:t.target.files[0].name.slice(0,-5)}),document.documentElement.style.setProperty("--showTabbar","none"),document.documentElement.style.setProperty("--padding","0"),document.documentElement.style.setProperty("--bottom","var(--safe-area-inset-bottom)")):e.props.setPopout(i.a.createElement(v.a,{actionsLayout:"vertical",actions:[{title:"\u041e\u0442\u043c\u0435\u043d\u0430",autoclose:!0,mode:"cancel"}],onClose:e.closePopout},i.a.createElement("h2",null,"\u0424\u043e\u0440\u043c\u0430\u0442 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d"),i.a.createElement("p",null,"\u0414\u0430\u043d\u043d\u044b\u0439 \u0442\u0438\u043f \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u0432 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f; \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0438\u0442\u044c \u043e\u0431 \u044d\u0442\u043e\u043c \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0443.")))}},["browser","desktop_web","mobile_web"].includes(this.state.vk_platform)?"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u043e\u0442\u043e":"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0433\u0430\u043b\u0435\u0440\u0435\u044e")}),i.a.createElement(v.c,{mode:"image",size:"m",header:"\u0412 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0435",subheader:i.a.createElement("span",null,"\u0421\u043a\u043e\u043f\u0438\u0440\u0443\u0439\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443",i.a.createElement("br",null),"\u0438 \u0432\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0432 \u043e\u043a\u043d\u043e"),background:i.a.createElement("div",{style:{backgroundColor:"#56005f",backgroundImage:"url(".concat(T.a,")"),backgroundPosition:"right center",backgroundSize:"95%",backgroundRepeat:"no-repeat"}}),actions:i.a.createElement(v.d,{style:{backgroundColor:"#fff",color:"#000",cursor:"pointer"},before:i.a.createElement(j.a,null),size:"l",onClick:function(){e.props.setPopout(i.a.createElement(v.a,{actions:[{title:"\u041e\u0442\u043c\u0435\u043d\u0430",autoclose:!0,mode:"cancel"},{title:"\u0414\u0430\u043b\u0435\u0435",autoclose:!0,action:function(){var t=Object(o.a)(r.a.mark((function t(){var a,n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==e.state.userLink&&e.state.userLink.indexOf("http")+1){t.next=3;break}return e.openDoesntLink(),t.abrupt("return");case 3:return e.props.setPopout(i.a.createElement(v.s,null)),t.prev=4,t.next=7,fetch("https://cors-anywhere.herokuapp.com/".concat(e.state.userLink)).then(function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e){for(var t="",a="abcdefghijklmnopqrstuvwxyz".length,n=0;n<e;n++)t+="abcdefghijklmnopqrstuvwxyz".charAt(Math.floor(Math.random()*a));return t},e.next=3,t.blob();case 3:(a=e.sent).name=n(10),a.lastModified=Date.now(),a.webkitRelativePath="";case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(4),e.props.setPopout(i.a.createElement(v.a,{actionsLayout:"vertical",actions:[{title:"Ok",autoclose:!0,mode:"cancel"}],onClose:e.closePopout},i.a.createElement("h2",null,"\u041f\u043b\u043e\u0445\u043e\u0435 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435"),i.a.createElement("p",null,"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0412\u0430\u0448\u0435\u0433\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f; \u043f\u0440\u043e\u0442\u0438\u0432\u043d\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435, \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u0441\u0435\u0440\u0432\u0438\u0441.")));case 12:e.closePopout(),(n=new Image).onload=function(){e.setState({height:n.height,width:n.width})},n.src=URL.createObjectURL(a),"image/png"===a.type?(e.setState({activePanel:"export",activeValue:"png",file:a,fileName:a.name}),document.documentElement.style.setProperty("--showTabbar","none"),document.documentElement.style.setProperty("--padding","0"),document.documentElement.style.setProperty("--bottom","var(--safe-area-inset-bottom)")):"image/heic"===a.type?(e.setState({activePanel:"export",activeValue:"heic",file:a,fileName:a.name}),document.documentElement.style.setProperty("--showTabbar","none"),document.documentElement.style.setProperty("--padding","0"),document.documentElement.style.setProperty("--bottom","var(--safe-area-inset-bottom)")):"image/jpeg"===a.type?(e.setState({activePanel:"export",activeValue:"jpeg",file:a,fileName:a.name}),document.documentElement.style.setProperty("--showTabbar","none"),document.documentElement.style.setProperty("--padding","0"),document.documentElement.style.setProperty("--bottom","var(--safe-area-inset-bottom)")):"image/gif"===a.type?(e.setState({activePanel:"export",activeValue:"gif",file:a,fileName:a.name}),document.documentElement.style.setProperty("--showTabbar","none"),document.documentElement.style.setProperty("--padding","0"),document.documentElement.style.setProperty("--bottom","var(--safe-area-inset-bottom)")):"image/pdf"===a.type?(e.setState({activePanel:"export",activeValue:"pdf",file:a,fileName:a.name}),document.documentElement.style.setProperty("--showTabbar","none"),document.documentElement.style.setProperty("--padding","0"),document.documentElement.style.setProperty("--bottom","var(--safe-area-inset-bottom)")):"image/hdr"===a.type?(e.setState({activePanel:"export",activeValue:"hdr",file:a,fileName:a.name}),document.documentElement.style.setProperty("--showTabbar","none"),document.documentElement.style.setProperty("--padding","0"),document.documentElement.style.setProperty("--bottom","var(--safe-area-inset-bottom)")):e.props.setPopout(i.a.createElement(v.a,{actionsLayout:"vertical",actions:[{title:"\u041e\u0442\u043c\u0435\u043d\u0430",autoclose:!0,mode:"cancel"}],onClose:e.closePopout},i.a.createElement("h2",null,"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a"),i.a.createElement("p",null,"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435; \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0438\u0442\u044c \u043e\u0431 \u044d\u0442\u043e\u043c \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0443.")));case 17:case"end":return t.stop()}}),t,null,[[4,9]])})));return function(){return t.apply(this,arguments)}}()}],onClose:e.closePopout},i.a.createElement("h2",null,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443"),i.a.createElement("p",null,"\u0414\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0444\u0430\u0439\u043b, \u0433\u0434\u0435 \u043d\u0435 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0432\u0432\u0435\u0441\u0442\u0438 \u043b\u043e\u0433\u0438\u043d/\u043f\u0430\u0440\u043e\u043b\u044c"),i.a.createElement(v.n,{style:{marginTop:16,marginBottom:-7},onChange:function(t){e.setState({userLink:t.target.value})},type:"text"})))}},"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443")}),this.state.snackbar),i.a.createElement(v.p,{id:"export"},i.a.createElement(v.q,{left:i.a.createElement(v.r,{onClick:function(){e.setState({activePanel:"home",file:{},value:"",fileName:""}),document.documentElement.style.setProperty("--showTabbar","flex"),document.documentElement.style.setProperty("--padding","calc(var(--safe-area-inset-bottom) + var(--tabbar_height))"),document.documentElement.style.setProperty("--bottom","calc(var(--tabbar_height) + var(--safe-area-inset-bottom))")}})},"\u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0430\u0446\u0438\u044f"),this.state.file.name&&i.a.createElement(v.l,null,i.a.createElement("div",{style:{display:"flex",justifyContent:"center",width:"100%",height:"22vh"}},i.a.createElement("img",{src:URL.createObjectURL(this.state.file),alt:"",style:{height:"22vh",width:"100%",objectFit:"contain"}}))),this.state.file.name&&i.a.createElement(v.l,null,i.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:16}},i.a.createElement(v.m,{style:{marginRight:-3}},"\u0418\u0437"),i.a.createElement(v.n,{disabled:!0,type:"text",defaultValue:this.state.file.name.slice(0,-4)}),i.a.createElement("img",{src:G[this.state.activeValue],alt:"",style:{marginLeft:7,height:"44px"}}))),i.a.createElement(v.j,null,i.a.createElement(v.t,{onChange:function(t){e.setState({value:t.target.value}),["mobile_iphone","mobile_iphone_messenger"].includes(e.state.vk_platform)&&m.a.send("VKWebAppTapticSelectionChanged",{})},top:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u043e\u0440\u043c\u0430\u0442, \u0432 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u0442\u044c",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u043e\u0440\u043c\u0430\u0442"},"jpeg"===this.state.activeValue?null:i.a.createElement("option",{value:"jpeg"},"jpeg"),"png"===this.state.activeValue?null:i.a.createElement("option",{value:"png"},"png"),"pdf"===this.state.activeValue?null:i.a.createElement("option",{value:"pdf"},"pdf"),"hdr"===this.state.activeValue?null:i.a.createElement("option",{value:"hdr"},"hdr"),"gif"===this.state.activeValue?null:i.a.createElement("option",{value:"gif"},"gif"))),this.state.value&&i.a.createElement(v.l,null,i.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:16}},i.a.createElement(v.m,{style:{marginRight:-3}},"\u0412"),i.a.createElement(v.n,{type:"text",onChange:function(t){console.log(t.target.value),e.setState({fileName:t.target.value})},value:this.state.fileName,status:0!==this.state.fileName.length&&this.state.fileName.length<255?"valid":"error"}),i.a.createElement("img",{src:G[this.state.value],alt:"",style:{marginLeft:7,height:"44px"}}))),this.state.value&&0!==this.state.fileName.length&&this.state.fileName.length<255&&i.a.createElement(v.l,null,i.a.createElement(v.g,null,["mobile_iphone","mobile_iphone_messenger"].includes(this.state.vk_platform)?i.a.createElement(v.d,{mode:"commerce",size:"xl",onClick:Object(o.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.exportPhoto();case 2:case"end":return t.stop()}}),t)})))},"\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0432 ",this.state.value):i.a.createElement(v.d,{style:{cursor:"pointer"},mode:"commerce",size:"xl",onClick:Object(o.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("browser"===e.state.vk_platform){t.next=15;break}if(!["mobile_android","mobile_android_messenger"].includes(e.state.vk_platform)){t.next=15;break}return t.prev=2,t.next=5,m.a.send("VKWebAppAllowMessagesFromGroup",{group_id:151064772});case 5:if(!0!==t.sent.result){t.next=9;break}return t.next=9,m.a.send("VKWebAppStorageSet",{key:"notifications",value:"true"});case 9:t.next=15;break;case 11:return t.prev=11,t.t0=t.catch(2),e.openError(),t.abrupt("return");case 15:return t.next=17,e.exportPhoto();case 17:case"end":return t.stop()}}),t,null,[[2,11]])})))},"\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0432 ",this.state.value))),this.state.snackbar),i.a.createElement(v.p,{id:"greeting",style:{position:"fixed"}},i.a.createElement(v.k,{slideWidth:"100%",align:"center",style:{height:"100vh"},slideIndex:this.state.slideIndex,onChange:function(t){return e.setState({slideIndex:t})},bullets:"light"},i.a.createElement("div",{style:{backgroundColor:"#8818d1",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},i.a.createElement("img",{className:"IntroImg",src:K.a,alt:"",style:{width:"300px",height:"300px",marginBottom:64}}),i.a.createElement(v.z,{level:"1",weight:"heavy",style:{color:"#fff",marginBottom:16,fontSize:"2.5em",textAlign:"center"}},"\u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0435\u0440"),i.a.createElement(v.z,{level:"3",weight:"semibold",style:{color:"#fff",marginBottom:4,textAlign:"center"}},"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 \u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0435\u0440!"),i.a.createElement(v.z,{level:"5",weight:"semibold",style:{color:"#fff",textAlign:"center",marginBottom:48,padding:"0 10px"}},"\u0421\u0432\u0430\u0439\u043f\u043d\u0438 \u0432\u043b\u0435\u0432\u043e, \u0447\u0442\u043e\u0431\u044b \u0443\u0437\u043d\u0430\u0442\u044c \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435."),i.a.createElement(v.g,null,i.a.createElement(v.d,{style:{cursor:"pointer"},size:"xl",mode:"commerce",onClick:function(){m.a.send("VKWebAppStorageSet",{key:"greeting",value:"true"}),e.setState({activePanel:"home"}),document.documentElement.style.setProperty("--showTabbar","flex"),document.documentElement.style.setProperty("--padding","calc(var(--safe-area-inset-bottom) + var(--tabbar_height))")}},"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c"))),i.a.createElement("div",{style:{backgroundColor:"#a3c6c7",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},i.a.createElement("img",{className:"IntroImg",src:R.a,alt:"",style:{width:"300px",height:"300px",marginBottom:64}}),i.a.createElement(v.z,{level:"1",weight:"heavy",style:{color:"#fff",marginBottom:16,fontSize:"2.5em",textAlign:"center"}},"\u0424\u043e\u0440\u043c\u0430\u0442\u044b"),i.a.createElement(v.z,{level:"3",weight:"semibold",style:{color:"#fff",marginBottom:48,textAlign:"center",padding:"0 10px"}},"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0441\u0430\u043c\u044b\u0435 \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u044f, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a PNG, JPG, SVG \u0438 \u0442\u0430\u043a \u0434\u0430\u043b\u0435\u0435..."),i.a.createElement(v.g,null,i.a.createElement(v.d,{style:{cursor:"pointer"},size:"xl",mode:"commerce",onClick:function(){return e.setState({slideIndex:2})}},"\u0412\u0430\u0443"))),i.a.createElement("div",{style:{backgroundColor:"#fe96ce",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},i.a.createElement("img",{className:"IntroImg",src:B.a,alt:"",style:{width:"300px",height:"300px",marginBottom:64}}),i.a.createElement(v.z,{level:"1",weight:"heavy",style:{color:"#fff",marginBottom:16,fontSize:"2.5em",textAlign:"center"}},"\u0411\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u044c"),i.a.createElement(v.z,{level:"3",weight:"semibold",style:{color:"#fff",marginBottom:48,textAlign:"center",padding:"0 10px"}},"\u0412\u0441\u0451 \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u0432 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u043c \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0438 \u0431\u0435\u0437 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u043d\u0430 \u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0438\u0435 \u0440\u0435\u0441\u0443\u0440\u0441\u044b."),i.a.createElement(v.g,null,i.a.createElement(v.d,{style:{cursor:"pointer"},size:"xl",mode:"commerce",onClick:function(){m.a.send("VKWebAppStorageSet",{key:"greeting",value:"true"}),e.setState({activePanel:"home"}),document.documentElement.style.setProperty("--showTabbar","flex"),document.documentElement.style.setProperty("--padding","calc(var(--safe-area-inset-bottom) + var(--tabbar_height))")}},"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u0441\u0435\u0440\u0432\u0438\u0441!")))))))}}]),a}(i.a.Component),M=a(121),U=a.n(M),J=a(122),q=a.n(J),$=a(123),H=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={activePanel:"profile",vk_platform:"",files_count:i.a.createElement(v.v,{size:"small"}),files_size:i.a.createElement(v.v,{size:"small"}),subscriber:!1,notifications:!1,snackbar:null},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(r.a.mark((function e(){var t,a,n,s,i,l,c,u=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.location.search){e.next=30;break}return t=window.location.search.match(/vk_platform=([a-z_]+)/),e.next=4,m.a.send("VKWebAppStorageGet",{keys:["notifications"]});case 4:return a=e.sent,["true","false"].includes(a.keys[0].value)||(a.keys[0].value="false"),this.setState({vk_platform:t[1].toString()}),n=(n=window.location.search.match(/vk_user_id=([1,2,3,4,5,6,7,8,9,0]+)/))[1].toString(),"https://converter.dan0102dan.ru/vk",s=new FormData,i="browser"!==this.state.vk_platform?window.location.search.slice(1):"null",s.append("sign",i),s.append("id",n),"cors",e.next=17,w.a.post("https://converter.dan0102dan.ru/vk",s,"cors").then(function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=t;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 17:if(l.data.sign){e.next=23;break}console.log(l.data),l.data.messages?this.setState({notifications:JSON.parse(a.keys[0].value)}):this.setState({notifications:l.data.messages}),this.setState({subscriber:l.data.subscriber}),e.next=25;break;case 23:return console.log(l.data.sign),e.abrupt("return");case 25:return e.next=27,m.a.send("VKWebAppStorageGet",{keys:["transfers","size"]}).catch((function(){return u.setState({files_count:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445",files_size:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"})}));case 27:c=e.sent;try{""===c.keys[0].value?this.setState({files_count:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"}):isNaN(c.keys[0].value)||this.setState({files_count:c.keys[0].value})}catch(p){this.setState({files_size:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"})}try{""===c.keys[1].value?this.setState({files_size:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"}):isNaN(c.keys[1].value)||this.setState({files_size:(Number(c.keys[1].value)/1e6).toFixed(3)+" \u041c\u0411"})}catch(d){this.setState({files_size:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"})}case 30:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"openSuccess",value:function(){var e=this;this.setState({snackbar:i.a.createElement(v.u,{layout:"vertical",onClose:function(){return e.setState({snackbar:null})},before:i.a.createElement(v.b,{size:24,style:{backgroundColor:"var(--accent)"}},i.a.createElement(z.a,{fill:"#fff",width:14,height:14}))},"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u044b!")})}},{key:"openError",value:function(){var e=this;this.setState({snackbar:i.a.createElement(v.u,{layout:"vertical",onClose:function(){return e.setState({snackbar:null})},before:i.a.createElement(v.b,{size:24,style:{backgroundImage:"linear-gradient(135deg, #fc7373, #cb5e5a)"}},i.a.createElement(A.a,{fill:"#fff",width:14,height:14}))},"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u044b!")})}},{key:"openThanks",value:function(){var e=this;this.setState({snackbar:i.a.createElement(v.u,{layout:"vertical",onClose:function(){return e.setState({snackbar:null})},before:i.a.createElement(v.b,{size:24,style:{backgroundImage:"linear-gradient(135deg, #ffb73d, #ffa000)"}},i.a.createElement(q.a,{fill:"#fff",width:14,height:14}))},"\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0443!!")})}},{key:"render",value:function(){var e=this,t=!1;return i.a.createElement(v.p,{id:this.id,snackbar:this.state.snackbar},i.a.createElement(v.A,{activePanel:this.state.activePanel},i.a.createElement(v.p,{id:"profile"},i.a.createElement(v.q,null,"\u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0435\u0440"),i.a.createElement(v.l,null,i.a.createElement("img",{src:K.a,alt:"",style:{width:"100px",height:"100px",display:"block",marginLeft:"auto",marginRight:"auto",backgroundColor:"#202020",borderRadius:25}}),i.a.createElement(v.e,{level:"1",weight:"regular",style:{marginTop:7,marginBottom:16,textAlign:"center"}},"\u0412\u0435\u0440\u0441\u0438\u044f: ",$.version)),i.a.createElement(v.l,{header:i.a.createElement(v.m,{mode:"secondary"},"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430")},i.a.createElement(v.o,null,i.a.createElement(v.f,{indicator:this.state.files_count},"\u0412\u0441\u0435\u0433\u043e \u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043e"),i.a.createElement(v.f,{indicator:this.state.files_size},"\u0420\u0430\u0437\u043c\u0435\u0440 \u0432\u0441\u0435\u0445 \u0444\u0430\u0439\u043b\u043e\u0432"))),i.a.createElement(v.l,null,i.a.createElement(v.f,{asideContent:i.a.createElement(v.w,{checked:!0===this.state.notifications,onChange:function(){var a=Object(o.a)(r.a.mark((function a(n){var o;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!0!==t){a.next=4;break}return a.abrupt("return");case 4:t=!0;case 5:if(!n.target.checked){a.next=23;break}return a.next=8,m.a.send("VKWebAppAllowMessagesFromGroup",{group_id:151064772}).catch((function(){e.openError(),e.setState({notifications:!1})}));case 8:if(!(null===(o=a.sent)||void 0===o?void 0:o.result)){a.next=16;break}return e.setState({notifications:!0}),e.openSuccess(),a.next=14,m.a.send("VKWebAppStorageSet",{key:"notifications",value:"true"});case 14:a.next=20;break;case 16:return e.openError(),e.setState({notifications:!1}),a.next=20,m.a.send("VKWebAppStorageSet",{key:"notifications",value:"false"});case 20:t=!1,a.next=28;break;case 23:return e.openError(),e.setState({notifications:!1}),t=!1,a.next=28,m.a.send("VKWebAppStorageSet",{key:"notifications",value:"false"});case 28:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()})},"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u043e\u0442 \u0431\u043e\u0442\u0430")),i.a.createElement(v.l,null,i.a.createElement(v.f,{description:i.a.createElement("a",{style:{color:"#30ab65",textDecoration:"none"},rel:"noopener noreferrer",href:"https://vk.com/public151064772",target:"_blank"},"\u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0435\u0440"),indicator:this.state.subscriber?i.a.createElement(v.d,{mode:"secondary",disabled:!0},"\u041f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a"):i.a.createElement(v.d,{style:{cursor:"pointer"},onClick:Object(o.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.send("VKWebAppJoinGroup",{group_id:151064772});case 2:e.setState({subscriber:!0}),e.openThanks();case 4:case"end":return t.stop()}}),t)})))},"\u0412\u0441\u0442\u0443\u043f\u0438\u0442\u044c")},"\u0421\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e")),i.a.createElement(v.l,null,i.a.createElement(v.d,{style:{cursor:"pointer"},mode:"tertiary",size:"xl",before:i.a.createElement(U.a,null),onClick:function(){return m.a.send("VKWebAppShare",{link:"https://vk.com/app7561776"})}},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u043c")),this.state.snackbar)))}}]),a}(i.a.Component),Q=(a(285),function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={activeStory:"home",popout:null},n.onStoryChange=n.onStoryChange.bind(Object(f.a)(n)),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){m.a.subscribe((function(e){var t=e.detail,a=t.type,n=t.data;if("VKWebAppUpdateConfig"===a){var r=document.createAttribute("scheme");r.value=n.scheme?n.scheme:"client_light",document.body.attributes.setNamedItem(r)}}))}},{key:"onStoryChange",value:function(e){this.setState({activeStory:e.currentTarget.dataset.story})}},{key:"render",value:function(){var e=this;return i.a.createElement(v.h,{activeStory:this.state.activeStory,tabbar:i.a.createElement(v.x,null,i.a.createElement(v.y,{onClick:this.onStoryChange,selected:"home"===this.state.activeStory,"data-story":"home"},i.a.createElement(y.a,null)),i.a.createElement(v.y,{onClick:this.onStoryChange,selected:"profile"===this.state.activeStory,"data-story":"profile"},i.a.createElement(E.a,null)))},i.a.createElement(v.A,{id:"home",activePanel:"home",popout:this.state.popout},i.a.createElement(F,{setPopout:function(t){return e.setState({popout:t})},id:"home"})),i.a.createElement(v.A,{id:"profile",activePanel:"profile"},i.a.createElement(H,{id:"profile"})))}}]),a}(i.a.Component));c.a.render(i.a.createElement(Q,null),document.getElementById("root")),Promise.all([a.e(3),a.e(4)]).then(a.bind(null,290)).then((function(e){e.default})),m.a.send("VKWebAppStorageGet",{keys:["greeting"]}).then(function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"true"===t.keys[0].value&&window.Image&&((new window.Image).src=K.a,(new window.Image).src=R.a,(new window.Image).src=B.a);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),m.a.send("VKWebAppInit")},41:function(e,t,a){e.exports=a.p+"static/media/ava.d549df08.png"},54:function(e,t,a){e.exports=a.p+"static/media/intro1.24513e42.png"},55:function(e,t,a){e.exports=a.p+"static/media/intro2.b1385481.png"}},[[171,1,2]]]);
//# sourceMappingURL=main.d8afaa9e.chunk.js.map